(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[590],{5316:function(e,t,r){Promise.resolve().then(r.bind(r,6135))},6135:function(e,t,r){"use strict";r.d(t,{SeatSelectionContent:function(){return h}});var s=r(7437),n=r(2265),l=r(9376),i=r(6298);let a=(0,r(9205).Z)("accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);var o=r(4508);let c=()=>{let e=[];return e.push({label:"N",tier:"RECLINER",price:630,seats:[{id:"N-01",number:1,status:"accessible",isAccessible:!0},{id:"N-02",number:2,status:"accessible",isAccessible:!0},{id:"N-03",number:3,status:"sold"},{id:"N-04",number:4,status:"sold"},{id:"N-05",number:5,status:"sold"},{id:"N-06",number:6,status:"sold"},{id:"N-07",number:7,status:"sold"},{id:"N-08",number:8,status:"available"},{id:"N-09",number:9,status:"available"},{id:"N-10",number:10,status:"available"},{id:"N-11",number:11,status:"sold"},{id:"N-12",number:12,status:"sold"},{id:"N-13",number:13,status:"sold"},{id:"N-14",number:14,status:"sold"},{id:"N-15",number:15,status:"accessible",isAccessible:!0},{id:"N-16",number:16,status:"accessible",isAccessible:!0}]}),["M","L","K","J","H"].forEach(t=>{let r=[];for(let e=1;e<=21;e++){let s="available";s=e<=3||e>=17?"available":"sold",r.push({id:"".concat(t,"-").concat(e),number:e,status:s})}e.push({label:t,tier:"PRIME",price:350,seats:r})}),["G","F","E","D","C"].forEach((t,r)=>{let s=[];for(let e=1;e<=17;e++){let n="available";r<2?(n="sold",(16===e||17===e)&&(n="available")):n="available",s.push({id:"".concat(t,"-").concat(e),number:e,status:n})}e.push({label:t,tier:"CLASSIC PLUS",price:290,seats:s})}),["B","A"].forEach(t=>{let r=[];for(let e=1;e<=20;e++)r.push({id:"".concat(t,"-").concat(e),number:e,status:"sold"});e.push({label:t,tier:"CLASSIC",price:250,seats:r})}),e};function u(e){let{maxSelectable:t=8,onSelectionChange:r}=e,[l,u]=(0,n.useState)([]),[d]=(0,n.useState)(c()),m=(0,n.useRef)(new Map);(0,n.useEffect)(()=>{let e=d.find(e=>e.seats.some(e=>"available"===e.status)),t=e?m.current.get(e.label):null;t&&t.scrollIntoView({behavior:"smooth",block:"center"})},[d]),(0,n.useEffect)(()=>{let e=l.reduce((e,t)=>{let r=d.find(e=>e.seats.some(e=>e.id===t));return e+((null==r?void 0:r.price)||0)},0);null==r||r(l,e)},[l,d,r]);let h=(e,r)=>{"sold"!==r&&u(r=>r.includes(e)?r.filter(t=>t!==e):r.length>=t?r:[...r,e])},p=e=>l.includes(e.id)?"selected":e.status,f=(0,n.useMemo)(()=>[{label:"Available",className:"border-green-400/60 bg-transparent"},{label:"Selected",className:"bg-green-500 border-green-400"},{label:"Sold",className:"bg-white/20 border-white/10"}],[]),b=(0,n.useMemo)(()=>{let e={};return d.forEach(t=>{e[t.tier]||(e[t.tier]=[]),e[t.tier].push(t)}),e},[d]);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex flex-wrap items-center justify-center gap-6 text-xs",children:f.map(e=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:(0,o.cn)("h-5 w-5 rounded border-2",e.className)}),(0,s.jsx)("span",{className:"text-white/70",children:e.label})]},e.label))}),(0,s.jsxs)("div",{className:"glass-panel relative overflow-hidden rounded-3xl border border-white/10 p-8",children:[(0,s.jsxs)("div",{className:"mb-6 text-center",children:[(0,s.jsx)("div",{className:"mx-auto mb-2 h-2 w-32 rounded-full bg-gradient-to-r from-purple-500/40 via-pink-500/40 to-cyan-500/40"}),(0,s.jsx)("p",{className:"text-sm font-semibold uppercase tracking-wider text-white/60",children:"Screen"})]}),(0,s.jsx)("div",{className:"max-h-[600px] space-y-6 overflow-y-auto pr-2 no-scrollbar",children:Object.entries(b).map(e=>{var t;let[r,n]=e,l=(null===(t=n[0])||void 0===t?void 0:t.price)||0;return(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"}),(0,s.jsxs)("p",{className:"text-sm font-bold text-white",children:["₹",l," ",r," ROWS"]}),(0,s.jsx)("div",{className:"h-px flex-1 bg-gradient-to-r from-transparent via-white/20 to-transparent"})]}),(0,s.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,s.jsxs)("div",{ref:t=>{t&&m.current.set(e.label,t)},className:"flex items-center gap-3",children:[(0,s.jsx)("span",{className:"w-8 text-center text-sm font-semibold text-white/60",children:e.label}),(0,s.jsx)("div",{className:"flex flex-1 flex-wrap gap-1.5",children:e.seats.map(e=>{let t=p(e),r="sold"===t,n="available"===t,l=e.isAccessible;return(0,s.jsx)(i.E.button,{whileHover:r?{}:{scale:1.1},whileTap:r?{}:{scale:.95},disabled:r,onClick:()=>h(e.id,e.status),className:(0,o.cn)("relative flex h-8 w-8 items-center justify-center rounded-lg border-2 text-xs font-semibold transition-all duration-200",r&&"cursor-not-allowed border-white/10 bg-white/10 text-white/30",n&&!l&&"border-green-400/60 bg-transparent text-white/80 hover:border-green-400 hover:bg-green-400/20",l&&n&&"border-cyan-400/60 bg-cyan-400/10 text-cyan-300","selected"===t&&"border-green-400 bg-green-500 text-white shadow-lg shadow-green-500/50"),children:l?(0,s.jsx)(a,{className:"h-4 w-4"}):e.number},e.id)})})]},e.label))})]},r)})})]}),l.length>0&&(0,s.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"glass-panel rounded-2xl border border-green-400/30 bg-green-500/10 p-4",children:[(0,s.jsxs)("p",{className:"text-sm font-semibold text-white",children:[l.length," seat",l.length>1?"s":""," selected"]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-white/70",children:l.map(e=>{let t=d.find(t=>t.seats.some(t=>t.id===e)),r=null==t?void 0:t.seats.find(t=>t.id===e);return"".concat(null==t?void 0:t.label).concat(null==r?void 0:r.number)}).join(", ")})]})]})}var d=r(2869);let m=()=>{let e=[];return e.push({label:"N",tier:"RECLINER",price:630,seats:[]}),["M","L","K","J","H"].forEach(t=>{e.push({label:t,tier:"PRIME",price:350,seats:[]})}),["G","F","E","D","C"].forEach(t=>{e.push({label:t,tier:"CLASSIC PLUS",price:290,seats:[]})}),["B","A"].forEach(t=>{e.push({label:t,tier:"CLASSIC",price:250,seats:[]})}),e};function h(e){let{movie:t,date:r,time:i,price:a=t.showtimes[0].times[0].price,screen:o=t.showtimes[0].times[0].screen}=e,c=(0,l.useRouter)(),[h,p]=(0,n.useState)([]),[f,b]=(0,n.useState)(0),x=(0,n.useMemo)(()=>m(),[]),v=(0,n.useMemo)(()=>f||h.length*a,[h,a,f]),g=(0,n.useMemo)(()=>{let e={};return h.forEach(t=>{let r=t.split("-")[0],s=x.find(e=>e.label===r);if(s){let t="".concat(s.tier," (₹").concat(s.price,")");e[t]||(e[t]={count:0,price:s.price}),e[t].count++}}),e},[h,x]);return(0,s.jsxs)("section",{className:"grid gap-8 lg:grid-cols-[1.2fr_0.8fr]",children:[(0,s.jsx)(u,{onSelectionChange:(e,t)=>{p(e),b(t)},maxSelectable:8}),(0,s.jsxs)("div",{className:"glass-panel flex flex-col gap-5 rounded-3xl border border-white/10 p-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-white/40",children:"Booking"}),(0,s.jsx)("h2",{className:"text-2xl font-semibold text-white",children:t.title})]}),(0,s.jsxs)("div",{className:"rounded-2xl border border-white/10 bg-white/5 p-4 text-sm text-white/70",children:[(0,s.jsxs)("p",{children:[null!=r?r:t.showtimes[0].date," \xb7 ",null!=i?i:t.showtimes[0].times[0].label]}),(0,s.jsx)("p",{className:"text-white/50",children:o})]}),(0,s.jsxs)("div",{className:"space-y-3 rounded-2xl border border-white/10 bg-white/5 p-4 text-sm",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between text-white/70",children:[(0,s.jsxs)("span",{children:["Seats (",h.length,")"]}),(0,s.jsx)("span",{className:"text-white font-medium",children:h.length>0?h.map(e=>{let t=e.split("-");return"".concat(t[0]).concat(t[1])}).join(", "):"Pick seats"})]}),h.length>0&&Object.keys(g).length>0&&(0,s.jsx)("div",{className:"space-y-1 border-t border-white/10 pt-2 text-xs text-white/60",children:Object.entries(g).map(e=>{let[t,r]=e;return(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("span",{children:[t," \xd7 ",r.count]}),(0,s.jsxs)("span",{children:["₹",(r.price*r.count).toFixed(0)]})]},t)})}),(0,s.jsxs)("div",{className:"flex items-center justify-between border-t border-white/10 pt-3 text-base",children:[(0,s.jsx)("span",{className:"font-semibold text-white",children:"Total"}),(0,s.jsxs)("span",{className:"text-2xl font-bold text-purple-400",children:["₹",v.toFixed(0)]})]})]}),(0,s.jsx)(d.z,{onClick:()=>{let e=new URLSearchParams({movie:t.slug,title:t.title,date:null!=r?r:t.showtimes[0].date,time:null!=i?i:t.showtimes[0].times[0].label,screen:o,seats:h.join(","),total:v.toString()});c.push("/booking/summary?".concat(e.toString()))},disabled:0===h.length,children:"Continue to summary"})]})]})}},2869:function(e,t,r){"use strict";r.d(t,{z:function(){return c}});var s=r(7437),n=r(2265),l=r(5293),i=r(535),a=r(4508);let o=(0,i.j)("inline-flex items-center justify-center rounded-full text-sm font-semibold transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 ring-offset-transparent",{variants:{variant:{primary:"bg-gradient-to-r from-purple-500 via-fuchsia-500 to-sky-500 text-white shadow-glow hover:opacity-90",secondary:"border border-white/15 bg-white/5 text-white hover:bg-white/10 hover:text-white",ghost:"text-muted hover:text-white hover:bg-white/5",outline:"border border-purple-400/50 bg-transparent text-purple-200 hover:bg-purple-500/10"},size:{sm:"h-9 px-4",md:"h-11 px-6",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"md"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:c=!1,...u}=e,d=c?l.g7:"button";return(0,s.jsx)(d,{className:(0,a.cn)(o({variant:n,size:i,className:r})),ref:t,...u})});c.displayName="Button"},4508:function(e,t,r){"use strict";r.d(t,{YR:function(){return a},cn:function(){return l},xG:function(){return i}});var s=r(1994),n=r(3335);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}function i(e){return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(e)}function a(e){return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric"}).format(new Date(e))}},9205:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(2265);let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),i=e=>{let t=l(e);return t.charAt(0).toUpperCase()+t.slice(1)},a=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()},o=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let u=(0,s.forwardRef)((e,t)=>{let{color:r="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:u="",children:d,iconNode:m,...h}=e;return(0,s.createElement)("svg",{ref:t,...c,width:n,height:n,stroke:r,strokeWidth:i?24*Number(l)/Number(n):l,className:a("lucide",u),...!d&&!o(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[t,r]=e;return(0,s.createElement)(t,r)}),...Array.isArray(d)?d:[d]])}),d=(e,t)=>{let r=(0,s.forwardRef)((r,l)=>{let{className:o,...c}=r;return(0,s.createElement)(u,{ref:l,iconNode:t,className:a("lucide-".concat(n(i(e))),"lucide-".concat(e),o),...c})});return r.displayName=i(e),r}},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})},5293:function(e,t,r){"use strict";r.d(t,{g7:function(){return u}});var s=r(2265),n=r.t(s,2);function l(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}var i=r(7437),a=Symbol.for("react.lazy"),o=n[" use ".trim().toString()];function c(e){var t;return null!=e&&"object"==typeof e&&"$$typeof"in e&&e.$$typeof===a&&"_payload"in e&&"object"==typeof(t=e._payload)&&null!==t&&"then"in t}var u=function(e){let t=function(e){let t=s.forwardRef((e,t)=>{let{children:r,...n}=e;if(c(r)&&"function"==typeof o&&(r=o(r._payload)),s.isValidElement(r)){var i,a,u;let e,o;let c=(e=null===(a=Object.getOwnPropertyDescriptor((i=r).props,"ref"))||void 0===a?void 0:a.get)&&"isReactWarning"in e&&e.isReactWarning?i.ref:(e=null===(u=Object.getOwnPropertyDescriptor(i,"ref"))||void 0===u?void 0:u.get)&&"isReactWarning"in e&&e.isReactWarning?i.props.ref:i.props.ref||i.ref,d=function(e,t){let r={...t};for(let s in t){let n=e[s],l=t[s];/^on[A-Z]/.test(s)?n&&l?r[s]=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];let s=l(...t);return n(...t),s}:n&&(r[s]=n):"style"===s?r[s]={...n,...l}:"className"===s&&(r[s]=[n,l].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==s.Fragment&&(d.ref=t?function(...e){return t=>{let r=!1,s=e.map(e=>{let s=l(e,t);return r||"function"!=typeof s||(r=!0),s});if(r)return()=>{for(let t=0;t<s.length;t++){let r=s[t];"function"==typeof r?r():l(e[t],null)}}}}(t,c):c),s.cloneElement(r,d)}return s.Children.count(r)>1?s.Children.only(null):null});return t.displayName="".concat(e,".SlotClone"),t}(e),r=s.forwardRef((e,r)=>{let{children:n,...l}=e;c(n)&&"function"==typeof o&&(n=o(n._payload));let a=s.Children.toArray(n),u=a.find(m);if(u){let e=u.props.children,n=a.map(t=>t!==u?t:s.Children.count(e)>1?s.Children.only(null):s.isValidElement(e)?e.props.children:null);return(0,i.jsx)(t,{...l,ref:r,children:s.isValidElement(e)?s.cloneElement(e,void 0,n):null})}return(0,i.jsx)(t,{...l,ref:r,children:n})});return r.displayName="".concat(e,".Slot"),r}("Slot"),d=Symbol("radix.slottable");function m(e){return s.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===d}},535:function(e,t,r){"use strict";r.d(t,{j:function(){return i}});var s=r(1994);let n=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,l=s.W,i=(e,t)=>r=>{var s;if((null==t?void 0:t.variants)==null)return l(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:i,defaultVariants:a}=t,o=Object.keys(i).map(e=>{let t=null==r?void 0:r[e],s=null==a?void 0:a[e];if(null===t)return null;let l=n(t)||n(s);return i[e][l]}),c=r&&Object.entries(r).reduce((e,t)=>{let[r,s]=t;return void 0===s||(e[r]=s),e},{});return l(e,o,null==t?void 0:null===(s=t.compoundVariants)||void 0===s?void 0:s.reduce((e,t)=>{let{class:r,className:s,...n}=t;return Object.entries(n).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...a,...c}[t]):({...a,...c})[t]===r})?[...e,r,s]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)}}},function(e){e.O(0,[781,971,117,744],function(){return e(e.s=5316)}),_N_E=e.O()}]);